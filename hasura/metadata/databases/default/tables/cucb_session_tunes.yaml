table:
  name: session_tunes
  schema: cucb
insert_permissions:
  - role: current_user
    permission:
      check: {}
      set:
        contributor: x-hasura-User-Id
      columns:
        - contributor_notes
        - filename
        - hidden
        - other_notes
        - title
        - touched
        - type
select_permissions:
  - role: blue_gig
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: current_user
    permission:
      columns:
        - hidden
        - contributed_date
        - touched
        - contributor
        - id
        - type
        - contributor_notes
        - other_notes
        - filename
        - title
      filter:
        contributor:
          _eq: X-Hasura-User-Id
  - role: equipment
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: gig_editor
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: music_only
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: president
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: secretary
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: treasurer
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: user
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - id
        - other_notes
        - title
        - touched
        - type
      filter:
        hidden:
          _ne: true
  - role: webmaster
    permission:
      columns:
        - contributed_date
        - contributor
        - contributor_notes
        - filename
        - hidden
        - id
        - other_notes
        - title
        - touched
        - type
      filter: {}
update_permissions:
  - role: current_user
    permission:
      columns:
        - contributor_notes
        - hidden
        - id
        - title
        - touched
        - type
      filter:
        contributor:
          _eq: X-Hasura-User-Id
      check: null
  - role: webmaster
    permission:
      columns:
        - hidden
        - other_notes
        - title
        - type
      filter: {}
      check: null
