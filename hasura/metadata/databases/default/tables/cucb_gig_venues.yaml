table:
  name: gig_venues
  schema: cucb
array_relationships:
  - name: gigs
    using:
      foreign_key_constraint_on:
        column: venue_id
        table:
          name: gigs
          schema: cucb
insert_permissions:
  - role: secretary
    permission:
      check: {}
      columns:
        - address
        - distance_miles
        - latitude
        - longitude
        - map_link
        - name
        - notes_admin
        - notes_band
        - postcode
        - subvenue
  - role: webmaster
    permission:
      check: {}
      columns:
        - address
        - distance_miles
        - latitude
        - longitude
        - map_link
        - name
        - notes_admin
        - notes_band
        - postcode
        - subvenue
select_permissions:
  - role: anonymous
    permission:
      columns:
        - address
        - distance_miles
        - id
        - latitude
        - longitude
        - map_link
        - name
        - postcode
        - subvenue
      filter:
        _and:
          - gigs:
              admins_only:
                _eq: false
          - gigs:
              advertise:
                _eq: true
  - role: blue_gig
    permission:
      columns:
        - address
        - distance_miles
        - id
        - latitude
        - longitude
        - map_link
        - name
        - notes_band
        - postcode
        - subvenue
      filter: {}
  - role: current_user
    permission:
      columns:
        - address
        - distance_miles
        - id
        - latitude
        - longitude
        - map_link
        - name
        - notes_band
        - postcode
        - subvenue
      filter: {}
  - role: equipment
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
  - role: gig_editor
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
  - role: music_only
    permission:
      columns:
        - address
        - distance_miles
        - id
        - latitude
        - longitude
        - map_link
        - name
        - postcode
        - subvenue
      filter:
        gigs:
          advertise:
            _eq: true
  - role: president
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
  - role: secretary
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
  - role: treasurer
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
  - role: user
    permission:
      columns:
        - address
        - distance_miles
        - id
        - latitude
        - longitude
        - map_link
        - name
        - notes_band
        - postcode
        - subvenue
      filter: {}
  - role: webmaster
    permission:
      columns:
        - latitude
        - longitude
        - distance_miles
        - id
        - notes_admin
        - notes_band
        - address
        - map_link
        - name
        - postcode
        - subvenue
      filter: {}
update_permissions:
  - role: secretary
    permission:
      columns:
        - address
        - distance_miles
        - latitude
        - longitude
        - map_link
        - name
        - notes_admin
        - notes_band
        - postcode
        - subvenue
      filter: {}
      check: null
  - role: webmaster
    permission:
      columns:
        - address
        - distance_miles
        - latitude
        - longitude
        - map_link
        - name
        - notes_admin
        - notes_band
        - postcode
        - subvenue
      filter: {}
      check: null
delete_permissions:
  - role: secretary
    permission:
      backend_only: false
      filter: {}
  - role: webmaster
    permission:
      backend_only: false
      filter: {}
