- args:
    tables:
    - table:
        name: auth_action_types
        schema: cucb
    - table:
        name: auth_bitmasks_permissions
        schema: cucb
    - select_permissions:
      - permission:
          columns:
          - id
          - title
          - php_title
          - hasura_role
          filter: {}
        role: secretary
      table:
        name: auth_user_types
        schema: cucb
    - table:
        name: biscuit_poll_entries
        schema: cucb
    - table:
        name: biscuit_poll_votes
        schema: cucb
    - table:
        name: biscuit_polls
        schema: cucb
    - table:
        name: calendar_subscriptions
        schema: cucb
    - table:
        name: captions
        schema: cucb
    - table:
        name: committee_keys
        schema: cucb
    - table:
        name: committee_members
        schema: cucb
    - table:
        name: committee_positions
        schema: cucb
    - table:
        name: committees
        schema: cucb
    - select_permissions:
      - permission:
          columns:
          - id
          - name
          - icon_name
          filter: {}
        role: secretary
      - permission:
          columns:
          - id
          - icon_name
          - name
          filter: {}
        role: user
      - permission:
          columns:
          - id
          - name
          - icon_name
          filter: {}
        role: webmaster
      table:
        name: connection_types
        schema: cucb
    - table:
        name: contacts
        schema: cucb
    - table:
        name: galleries
        schema: cucb
    - table:
        name: gig_types
        schema: cucb
    - delete_permissions:
      - permission:
          filter: {}
        role: secretary
      - permission:
          filter: {}
        role: webmaster
      insert_permissions:
      - permission:
          check: {}
          columns:
          - address
          - distance_miles
          - latitude
          - longitude
          - map_link
          - name
          - notes_admin
          - notes_band
          - postcode
          - subvenue
        role: secretary
      - permission:
          check: {}
          columns:
          - address
          - distance_miles
          - latitude
          - longitude
          - map_link
          - name
          - notes_admin
          - notes_band
          - postcode
          - subvenue
        role: webmaster
      select_permissions:
      - permission:
          columns:
          - latitude
          - longitude
          - distance_miles
          - id
          - notes_admin
          - notes_band
          - address
          - map_link
          - name
          - postcode
          - subvenue
          filter: {}
        role: secretary
      - permission:
          columns:
          - address
          - distance_miles
          - id
          - latitude
          - longitude
          - map_link
          - name
          - notes_band
          - postcode
          - subvenue
          filter: {}
        role: user
      - permission:
          columns:
          - latitude
          - longitude
          - distance_miles
          - id
          - notes_admin
          - notes_band
          - address
          - map_link
          - name
          - postcode
          - subvenue
          filter: {}
        role: webmaster
      table:
        name: gig_venues
        schema: cucb
      update_permissions:
      - permission:
          columns:
          - address
          - distance_miles
          - latitude
          - longitude
          - map_link
          - name
          - notes_admin
          - notes_band
          - postcode
          - subvenue
          filter: {}
        role: secretary
      - permission:
          columns:
          - address
          - distance_miles
          - latitude
          - longitude
          - map_link
          - name
          - notes_admin
          - notes_band
          - postcode
          - subvenue
          filter: {}
        role: webmaster
    - array_relationships:
      - name: contacts
        using:
          foreign_key_constraint_on:
            column: gig_id
            table:
              name: gigs_contacts
              schema: cucb
      - name: lineup
        using:
          foreign_key_constraint_on:
            column: gig_id
            table:
              name: gigs_lineups
              schema: cucb
      delete_permissions:
      - permission:
          filter: {}
        role: secretary
      - permission:
          filter: {}
        role: webmaster
      insert_permissions:
      - permission:
          check: {}
          columns:
          - admins_only
          - advertise
          - allow_signups
          - arrive_time
          - date
          - finance
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - finish_time
          - notes_admin
          - notes_band
          - quote_date
          - summary
          - time
          - title
          - type
          - venue_id
          set:
            editing_user: x-hasura-User-Id
            posting_user: x-hasura-User-Id
        role: secretary
      - permission:
          check: {}
          columns:
          - admins_only
          - advertise
          - allow_signups
          - arrive_time
          - date
          - finance
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - finish_time
          - notes_admin
          - notes_band
          - quote_date
          - summary
          - time
          - title
          - type
          - venue_id
          set:
            editing_user: x-hasura-User-Id
            posting_user: x-hasura-User-Id
        role: webmaster
      object_relationships:
      - name: gig_type
        using:
          foreign_key_constraint_on: type
      - name: user
        using:
          foreign_key_constraint_on: posting_user
      - name: venue
        using:
          foreign_key_constraint_on: venue_id
      select_permissions:
      - permission:
          columns:
          - admins_only
          - advertise
          - allow_signups
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - date
          - quote_date
          - editing_user
          - id
          - posting_user
          - type
          - venue_id
          - finance
          - notes_admin
          - notes_band
          - summary
          - time
          - arrive_time
          - editing_time
          - finish_time
          - posting_time
          - title
          filter: {}
        role: secretary
      - permission:
          columns:
          - allow_signups
          - arrive_time
          - date
          - finish_time
          - id
          - notes_band
          - summary
          - time
          - title
          - type
          - venue_id
          filter:
            admins_only:
              _eq: false
        role: user
      - permission:
          columns:
          - admins_only
          - advertise
          - allow_signups
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - date
          - quote_date
          - editing_user
          - id
          - posting_user
          - type
          - venue_id
          - finance
          - notes_admin
          - notes_band
          - summary
          - time
          - arrive_time
          - editing_time
          - finish_time
          - posting_time
          - title
          filter: {}
        role: webmaster
      table:
        name: gigs
        schema: cucb
      update_permissions:
      - permission:
          columns:
          - admins_only
          - advertise
          - allow_signups
          - arrive_time
          - date
          - finance
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - finish_time
          - notes_admin
          - notes_band
          - quote_date
          - summary
          - time
          - title
          - type
          - venue_id
          filter: {}
          set:
            editing_user: x-hasura-User-Id
        role: secretary
      - permission:
          columns:
          - admins_only
          - advertise
          - allow_signups
          - arrive_time
          - date
          - finance
          - finance_caller_paid
          - finance_deposit_received
          - finance_payment_received
          - finish_time
          - notes_admin
          - notes_band
          - quote_date
          - summary
          - time
          - title
          - type
          - venue_id
          filter: {}
          set:
            editing_user: x-hasura-User-Id
        role: webmaster
    - table:
        name: gigs_contacts
        schema: cucb
    - array_relationships:
      - name: user_instruments
        using:
          manual_configuration:
            column_mapping:
              gig_id: gig_id
              user_id: user_id
            remote_table:
              name: gigs_lineups_instruments
              schema: cucb
      object_relationships:
      - name: user
        using:
          foreign_key_constraint_on: user_id
      select_permissions:
      - permission:
          columns:
          - id
          - gig_id
          - user_id
          - adding_time
          - editing_time
          - approved
          - equipment
          - leader
          - driver
          - money_collector
          - money_collector_notified
          - user_notes
          - user_available
          - user_only_if_necessary
          - admin_notes
          filter: {}
        role: secretary
      - permission:
          columns:
          - id
          - gig_id
          - user_id
          - adding_time
          - editing_time
          - approved
          - equipment
          - leader
          - driver
          - money_collector
          - money_collector_notified
          - user_notes
          - user_available
          - user_only_if_necessary
          - admin_notes
          filter: {}
        role: webmaster
      table:
        name: gigs_lineups
        schema: cucb
      update_permissions:
      - permission:
          columns:
          - admin_notes
          - approved
          - driver
          - equipment
          - leader
          - money_collector
          - money_collector_notified
          - user_available
          - user_notes
          - user_only_if_necessary
          filter: {}
        role: webmaster
    - delete_permissions:
      - permission:
          filter: {}
        role: secretary
      - permission:
          filter:
            _and:
            - user_id:
                _eq: X-Hasura-User-Id
            - approved:
                _ne: true
        role: user
      - permission:
          filter: {}
        role: webmaster
      insert_permissions:
      - permission:
          check: {}
          columns:
          - approved
          - gig_id
          - user_id
          - user_instrument_id
          set:
            user_id: x-hasura-User-Id
        role: secretary
      - permission:
          check: {}
          columns:
          - gig_id
          - user_instrument_id
          set:
            user_id: x-hasura-User-Id
        role: user
      - permission:
          check: {}
          columns:
          - approved
          - gig_id
          - user_id
          - user_instrument_id
          set:
            user_id: x-hasura-User-Id
        role: webmaster
      object_relationships:
      - name: user_instrument
        using:
          foreign_key_constraint_on: user_instrument_id
      select_permissions:
      - permission:
          columns:
          - approved
          - gig_id
          - user_id
          - user_instrument_id
          filter: {}
        role: secretary
      - permission:
          columns:
          - approved
          - gig_id
          - user_id
          - user_instrument_id
          filter:
            _or:
            - user_id:
                _eq: X-Hasura-User-Id
            - approved:
                _eq: true
        role: user
      - permission:
          columns:
          - approved
          - gig_id
          - user_id
          - user_instrument_id
          filter: {}
        role: webmaster
      table:
        name: gigs_lineups_instruments
        schema: cucb
      update_permissions:
      - permission:
          columns:
          - approved
          filter: {}
        role: secretary
      - permission:
          columns:
          - approved
          filter: {}
        role: webmaster
    - select_permissions:
      - permission:
          columns:
          - id
          - name
          - novelty
          - parent_only
          - parent_id
          filter: {}
        role: secretary
      - permission:
          columns:
          - novelty
          - parent_only
          - id
          - parent_id
          - name
          filter: {}
        role: user
      - permission:
          columns:
          - id
          - name
          - novelty
          - parent_only
          - parent_id
          filter: {}
        role: webmaster
      table:
        name: instruments
        schema: cucb
    - table:
        name: music
        schema: cucb
    - table:
        name: music_types
        schema: cucb
    - table:
        name: news
        schema: cucb
    - table:
        name: photos
        schema: cucb
    - table:
        name: session
        schema: cucb
    - table:
        name: session_tunes
        schema: cucb
    - table:
        name: songs
        schema: cucb
    - table:
        name: user_password_resets
        schema: cucb
    - select_permissions:
      - permission:
          columns:
          - id
          - name
          - default
          filter: {}
        role: secretary
      - permission:
          columns:
          - default
          - id
          - name
          filter: {}
        role: user
      - permission:
          columns:
          - default
          - id
          - name
          filter: {}
        role: webmaster
      table:
        name: user_pref_types
        schema: cucb
    - object_relationships:
      - name: pref_type
        using:
          foreign_key_constraint_on: pref_id
      - name: user
        using:
          foreign_key_constraint_on: user_id
      select_permissions:
      - permission:
          columns:
          - user_id
          - pref_id
          - value
          filter: {}
        role: secretary
      - permission:
          columns:
          - pref_id
          - user_id
          - value
          filter:
            user_id:
              _eq: X-Hasura-User-Id
        role: user
      - permission:
          columns:
          - user_id
          - pref_id
          - value
          filter: {}
        role: webmaster
      table:
        name: user_prefs
        schema: cucb
    - array_relationships:
      - name: calendar_subscriptions
        using:
          foreign_key_constraint_on:
            column: user_id
            table:
              name: calendar_subscriptions
              schema: cucb
      - name: gig_lineups
        using:
          foreign_key_constraint_on:
            column: user_id
            table:
              name: gigs_lineups
              schema: cucb
      - name: prefs
        using:
          foreign_key_constraint_on:
            column: user_id
            table:
              name: user_prefs
              schema: cucb
      - name: user_instruments
        using:
          foreign_key_constraint_on:
            column: user_id
            table:
              name: users_instruments
              schema: cucb
      object_relationships:
      - name: admin_type
        using:
          manual_configuration:
            column_mapping:
              admin: id
            remote_table:
              name: auth_user_types
              schema: cucb
      select_permissions:
      - permission:
          columns:
          - admin
          - bio
          - bio_changed_date
          - dietaries
          - email
          - first
          - id
          - join_date
          - last
          - last_login_date
          - location_info
          - mobile_contact_info
          - username
          filter: {}
        role: secretary
      - permission:
          columns:
          - admin
          - bio
          - bio_changed_date
          - dietaries
          - email
          - first
          - id
          - join_date
          - last
          - last_login_date
          - location_info
          - mobile_contact_info
          - username
          filter: {}
        role: webmaster
      table:
        name: users
        schema: cucb
    - array_relationships:
      - name: connections
        using:
          foreign_key_constraint_on:
            column: user_instrument_id
            table:
              name: users_instruments_connections
              schema: cucb
      object_relationships:
      - name: instrument
        using:
          foreign_key_constraint_on: instr_id
      - name: user
        using:
          foreign_key_constraint_on: user_id
      select_permissions:
      - permission:
          columns:
          - id
          - user_id
          - instr_id
          - nickname
          - deleted
          filter: {}
        role: secretary
      - permission:
          columns:
          - deleted
          - id
          - instr_id
          - user_id
          - nickname
          filter: {}
        role: user
      - permission:
          columns:
          - id
          - user_id
          - instr_id
          - nickname
          - deleted
          filter: {}
        role: webmaster
      table:
        name: users_instruments
        schema: cucb
    - object_relationships:
      - name: connection_type
        using:
          foreign_key_constraint_on: conn_id
      - name: users_instrument
        using:
          foreign_key_constraint_on: user_instrument_id
      select_permissions:
      - permission:
          columns:
          - id
          - user_instrument_id
          - conn_id
          filter: {}
        role: secretary
      - permission:
          columns:
          - id
          - user_instrument_id
          - conn_id
          filter: {}
        role: webmaster
      table:
        name: users_instruments_connections
        schema: cucb
    version: 2
  type: replace_metadata
